<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="template.xhtml">

    <ui:define name="center">
        <h:form enctype="multipart/form-data">
            <p:fileUpload fileUploadListener="#{bufrValidatorDashboardBean.handleFileUpload}" mode="advanced" auto="true"
                          dragDropSupport="false" sizeLimit="10485760"
                          multiple="false" update="messages,display,tblResult" label="Select File"
                          invalidSizeMessage="File size is wrong">
            </p:fileUpload>

            <h:panelGrid id="display" columns="1" style="margin: 10px;">
                <h:outputText id="fileName" value="FileName: #{bufrValidatorDashboardBean.fileName}"/>
                <h:outputText value="File Size: #{bufrValidatorDashboardBean.fileSize}"/>
                <h:outputText value="MD5 ChkSum: #{bufrValidatorDashboardBean.md5CheckSum}"/>
                <!--<h:outputText value="Messages: #{bufrValidatorDashboardBean.messages}"/>-->
            </h:panelGrid>

            <p:dataTable id="tblResult" var="bufrDecoder" value="#{bufrValidatorDashboardBean.bufrDecoderList}"
                         rowStyleClass="#{bufrDecoder.status eq 2 ? 'Error' : null}">
                <p:column headerText="Decoder">
                    <h:outputText value="#{bufrDecoder.decoder}"/>
                </p:column>
                <p:column headerText="Status">
                    <p:triStateCheckbox value="#{bufrDecoder.status}"/>
                </p:column>
                <p:column headerText="Error Description">
                    <h:outputText value="#{bufrDecoder.description}"/>
                </p:column>
            </p:dataTable>
            <style type="text/css">
                .Error {
                    background-color: darkorange;
                    background-image: none;
                    color: black;
                }
            </style>
            <p:growl id="messages" showDetail="true"/>
        </h:form>
    </ui:define>
</ui:composition>
